<?xml version="1.0" encoding="UTF-8"?>

<!-- This document contains the XML Model for the records/info of all mechanics within the larger Emergency Services Vehicle Maintenance System model -->

<!--  The * cardinality is used for Mechanic as there can be no mechanics registered in the system or an infinite amount of mechanics-->

<!ELEMENT Mechanics_Info (Mechanic)*>

<!-- Each mechanic has an associated set of data attributed to the mechanic itself. Each mechanic has a required attribute 'mechanic_id', this is so anyone operating on the system can effeciently and quickly access/edit a mechanics respective details. Each mechanic can have multiple roles however must have atleast one, hence the + cardinality is used. -->

<!ELEMENT Mechanic (name, details, role+, vehicles_serviced, is_servicing)>
<!ATTLIST Mechanic mechanic_id CDATA #REQUIRED>
<!ELEMENT mechanic_id (#PCDATA)>

<!ELEMENT name   (first_name,surname)>
		<!ELEMENT first_name (#PCDATA)>
		<!ELEMENT surname (#PCDATA)>

<!ELEMENT details (address, PPSN, phone_number, e-mail_address, bank_details)>
		<!ELEMENT address (number_or_name, street, town, postcode, county)>
				<!ELEMENT number_or_name (#PCDATA)>
				<!ELEMENT street (#PCDATA)>
				<!ELEMENT town (#PCDATA)>
				<!ELEMENT postcode (#PCDATA)>	
				<!ELEMENT county (#PCDATA)>
		<!ELEMENT PPSN (#PCDATA)>
		<!ELEMENT phone_number (#PCDATA)>
		<!ELEMENT e-mail_address (#PCDATA)>
		<!ELEMENT bank_details (IBAN, BIC)>
				<!ELEMENT IBAN (#PCDATA)>
				<!ELEMENT BIC (#PCDATA)>
<!ELEMENT role (#PCDATA)>

<!-- Each mechanic also has an associated record of all the vehicles he/she has previously serviced. This is to enable a sense of traceability to the system, so that in the event of an accident occuring as a direct result of a faulty service the full service history can be traced back. -->

<!ELEMENT vehicles_serviced (Vehicle)*>

<!-- Each vehicle has associated required attributes 'VehicleID', 'NeedsService', 'isBeingServiced' this is in place to allow effecient and quick access to a vehicles record by someone acting on the system. Each vehicle also has other pieces of data associated with it such as when it was last serviced, whether or not it needs a service and whether or not it is currently being serviced. -->

		<!ELEMENT Vehicle (VehicleDetails, LastService)>
			<!ATTLIST Vehicle VehicleID CDATA #REQUIRED>
			<!ATTLIST Vehicle NeedsService CDATA #REQUIRED>
			<!ATTLIST Vehicle isBeingServiced CDATA #REQUIRED>
			<!ELEMENT VehicleID (#PCDATA)>
			<!ELEMENT NeedsService (#PCDATA)>
			<!ELEMENT isBeingServiced (#PCDATA)>
			<!ELEMENT LastService (#PCDATA)>

<!ELEMENT is_servicing (#PCDATA)>
